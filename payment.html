<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Manss Store</title>
    <link rel="icon" type="image/png" href="https://files.catbox.moe/vr95dj.jpg">
    <link rel="stylesheet" href="style.css">
<body>
    <div class="loader" id="loader">
        <div class="spinner"></div>
        <div class="loader-text">INITIALIZING...</div>
    </div>

    <!-- Audio Player (Hidden) -->
    <audio id="background-music" loop>
      <source src="https://cloudkuimages.com/uploads/audios/67e6491a09d0d.mp3" type="audio/mpeg"> <!-- Ganti URL MP3 mu disini -->
      Browser lu jadul amat, kaga support audio.
    </audio>


    <div class="page active" id="about"> <!-- Start with about page active -->
        <h1>Website Payment</h1>
         <div class="typing-container">
          <span class="typing-animation">Welcome To Manss Payment</span>
          </div>
        <p class="subtitle">Silahkan click tombol start untuk melakukan pembayaran</p>
        <button class="btn" onclick="showPayment()">Start</button> <!-- Changed to button -->
    </div>

    <div class="page hidden" id="payment"> <!-- Payment page hidden initially -->
        <h1>Payment Protocols</h1>
        <p class="subtitle">Silahkan pilih metode pembayaran anda, kami menyediakan metode Dana,Gopay,BCA Atau QRIS, untuk mempermudah pembayaran andaa, jika belum mengerti silahkan bertanya</p>

        <div class="qr-frame" onclick="zoomQR()">
           <span></span> <!-- Span for bottom corners -->
            <img id="qrisImage" src="https://files.catbox.moe/pe2xgk.jpg" alt="QRIS Datastream">
        </div>

        <p class="subtitle" style="margin-top: 15px; font-size: 0.9rem;">Payment Qris</p>

        <div class="payment-info">
            <details>
                <summary>E-wallet</summary>
                <p><strong>DANA:</strong> <code>085922913854</code></p>
                <p><strong>GOPAY:</strong> <code>085922913854</code></p>
                <p><strong>OVO:[Tidak Tersedia]</strong> <code></code></p>
            </details>

            <details>
                <summary>Bank Transfer</summary>
                <p><strong>BCA:</strong>  5810701147 </p>
            </details>
        </div>

        <div class="social">
            <a href="https://wa.me/6285945527763" target="_blank" class="btn">Contact_WA</a>
            <a href="https://t.me/Peeeeemanss" target="_blank" class="btn">Contact_TG</a>
        </div>

        <button class="btn" onclick="showAbout()" style="margin-top: 20px;">Return_Mainframe</button> <!-- Changed to button -->
    </div>

    <!-- QR Zoom Overlay -->
    <div class="overlay" id="qrOverlay" onclick="closeZoom()">
        <img id="zoomedQR" src="" alt="Magnified Datastream">
    </div>

    <script>
        const loader = document.getElementById('loader');
        const aboutPage = document.getElementById('about');
        const paymentPage = document.getElementById('payment');
        const qrOverlay = document.getElementById('qrOverlay');
        const zoomedQR = document.getElementById('zoomedQR');
        const qrisImage = document.getElementById('qrisImage');
        const musicPlayer = document.getElementById('background-music'); // Get the audio element

        // --- Initial Page Load ---
        window.addEventListener('load', () => {
            // Ensure aboutPage starts visible & paymentPage hidden if JS enabled
            aboutPage.classList.add('active');
            aboutPage.classList.remove('hidden');
            paymentPage.classList.add('hidden');
            paymentPage.classList.remove('active');

            setTimeout(() => {
                loader.classList.add('hidden');
                // Don't explicitly show 'about' here, it's handled by initial classes
            }, 2000); // Keep loader a bit longer for effect
        });

        // --- Page Transition Functions ---
        function showPayment() {
             switchPage(aboutPage, paymentPage);
            // Play music when switching TO payment
              playMusic();
        }

        function showAbout() {
            switchPage(paymentPage, aboutPage);
             // Optional: Pause music when returning from payment
            // pauseMusic();
        }

        function switchPage(pageToHide, pageToShow) {
            if (pageToHide.classList.contains('active')) {
              pageToHide.classList.remove('active');
              pageToHide.classList.add('hidden');

                // Use transitionend event for smoother page switching
                pageToHide.addEventListener('transitionend', function handler() {
                   pageToHide.removeEventListener('transitionend', handler); // Clean up listener

                    pageToShow.classList.remove('hidden');
                   pageToShow.classList.add('active');

                    // Scroll to top of new page (especially useful for mobile)
                    window.scrollTo(0, 0);
               }, { once: true }); // Ensure the event listener runs only once

             } else {
               // Fallback if the first page wasn't active (e.g., rapid clicking)
               pageToShow.classList.remove('hidden');
               pageToShow.classList.add('active');
               window.scrollTo(0, 0);
            }
        }


        // --- QR Zoom Functionality ---
        function zoomQR() {
             if (!qrOverlay || !zoomedQR || !qrisImage) return; // Safety check
            zoomedQR.src = qrisImage.src;
            qrOverlay.classList.add('active');
        }

        function closeZoom() {
             if (!qrOverlay) return;
            qrOverlay.classList.remove('active');
        }

         // Add Escape key listener to close the zoom overlay
         document.addEventListener('keydown', (event) => {
              if (event.key === 'Escape' && qrOverlay.classList.contains('active')) {
                   closeZoom();
              }
          });

        // --- Music Control Functions ---
        function playMusic() {
             if (musicPlayer) {
                 // Attempt to play. This might be blocked by browser policy initially
                 // Best practice is often to require a user interaction first,
                 // but clicking the "Go to Payment" button IS a user interaction.
                 musicPlayer.play().catch(error => {
                      console.warn("Music autoplay failed:", error);
                     // Optionally, provide a manual play button if autoplay fails
                  });
              }
         }

        function pauseMusic() {
            if (musicPlayer) {
                 musicPlayer.pause();
              }
         }

         // Optional: Attempt to play music after first user interaction anywhere on the page
         /*
          function userInteracted() {
             playMusic();
            // Remove this listener after the first interaction
             document.removeEventListener('click', userInteracted);
             document.removeEventListener('keydown', userInteracted);
          }
          document.addEventListener('click', userInteracted, { once: true });
         document.addEventListener('keydown', userInteracted, { once: true });
        */


    </script>
</body>
</html>
